{% extends "agenda/_layouts/base.html" %}

{% load static %}
{% load widget_tweaks %}

{% block styles %}
    <link rel="stylesheet" type="text/css" href="{% static 'agenda/css/bootstrap-datepicker3.min.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'agenda/css/timepicker.min.css' %}">
{% endblock %}

{% block title %}Criar evento - Agenda Lilio{% endblock %}

{% block conteudo %}

<div class="container">
    <div class="row">
        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
            <div class="card">
                <div class="card-body">
                    <h5 class="card-title">Cadastro de Evento</h5>
                    <p class="card-text">
                        Complete o formulário abaixo para cadastrar
                        um novo evento.
                    </p>
                    <form enctype="multipart/form-data" action="submit", method="post">
                        {% csrf_token %}

                        <div class="input-group mb-3 ">
                            <div class="datepicker">
                                <input type="hidden" name="date" value="">
                            </div>
                        </div>

                        <div class="input-group mb-3">
                            <div class="input-group-prepend">
                                <span class="input-group-text">Horário</span>
                            </div>
                            <input class="form-control timepicker" name="time" autocomplete="off">
                        </div>

                        <div class="input-group mb-3">
                            <div class="input-group-prepend">
                                <span class="input-group-text">Nome</span>
                            </div>
                            <input class="form-control" name="name">
                        </div>

                        <div class="input-group mb-3">
                            <div class="input-group-prepend">
                                <span class="input-group-text">Nome do paciente</span>
                            </div>
                            <input class="form-control" name="patients_name">
                        </div>

                        <div class="input-group mb-3">
                            <div class="input-group-prepend">
                                <span class="input-group-text">E-mail</span>
                            </div>
                            <input class="form-control" name="email" type="email">
                        </div>

                        <div class="input-group mb-3">
                            <div class="input-group-prepend">
                                <span class="input-group-text">Whatsapp</span>
                            </div>
                            <input class="form-control" name="whatsapp">
                        </div>

                        <div class="input-group mb-3">
                            <div class="input-group-prepend">
                                <span class="input-group-text">Telefone</span>
                            </div>
                            <input class="form-control" name="phone">
                        </div>

                        {% if messages %}
                            {% for message in messages %}
                            <div class="alert alert-danger">{{ message }}</div>
                            {% endfor %}
                        {% endif %}

                        <button type="submit" class="btn btn-primary">Criar</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}


{% block scripts %}

<script src="{% static 'agenda/js/bootstrap-datepicker.min.js' %}"></script>
<script src="{% static 'agenda/js/bootstrap-datepicker.pt-BR.min.js' %}"></script>
<script src="{% static 'agenda/js/timepicker.min.js' %}"></script>

<script>
$('.datepicker').datepicker({
    language: "pt-BR",
    todayHighlight: true,
    startDate: new Date()
});

$('.timepicker').timepicker({
    timeFormat: 'h:mm p',
    interval: 60,
    minTime: '10',
    maxTime: '6:00pm',
    defaultTime: '8:00',
    startTime: '8:00',
    dynamic: false,
    dropdown: true,
    scrollbar: true
});
</script>

{% endblock %}